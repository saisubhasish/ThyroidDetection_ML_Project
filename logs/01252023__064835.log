[ 2023-01-25 06:48:36,814 ] 20 root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Data Ingestion <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[ 2023-01-25 06:48:36,814 ] 31 root - INFO - Exporting collection data as pandas dataframe
[ 2023-01-25 06:48:36,814 ] 22 root - INFO - Reading data from database: HealthCare and collection: Thyroid
[ 2023-01-25 06:48:36,989 ] 24 root - INFO - Found columns: Index(['_id', 'age', 'sex', 'on thyroxine', 'query on thyroxine',
       'on antithyroid medication', 'sick', 'pregnant', 'thyroid surgery',
       'I131 treatment', 'query hypothyroid', 'query hyperthyroid', 'lithium',
       'goitre', 'tumor', 'hypopituitary', 'psych', 'TSH measured', 'TSH',
       'T3 measured', 'T3', 'TT4 measured', 'TT4', 'T4U measured', 'T4U',
       'FTI measured', 'FTI', 'TBG measured', 'TBG', 'referral source',
       'binaryClass'],
      dtype='object')
[ 2023-01-25 06:48:36,989 ] 26 root - INFO - Dropping column: _id 
[ 2023-01-25 06:48:36,992 ] 28 root - INFO - Row and columns in df: (3772, 30)
[ 2023-01-25 06:48:36,992 ] 37 root - INFO - Replacing '?' value to np.NAN
[ 2023-01-25 06:48:36,997 ] 42 root - INFO - Save data in feature store
[ 2023-01-25 06:48:36,997 ] 44 root - INFO - Create feature store folder if not available
[ 2023-01-25 06:48:36,997 ] 48 root - INFO - Save df to feature store folder
[ 2023-01-25 06:48:37,035 ] 53 root - INFO - split dataset into train and test set
[ 2023-01-25 06:48:37,040 ] 57 root - INFO - create dataset directory folder if not available
[ 2023-01-25 06:48:37,041 ] 62 root - INFO - Saving train df and test df to dataset folder
[ 2023-01-25 06:48:37,075 ] 74 root - INFO - Data ingestion artifact: DataIngestionArtifact(feature_store_file_path='/config/workspace/artifact/01252023__064836/data_ingestion/feature_store/thyroid.csv', train_file_path='/config/workspace/artifact/01252023__064836/data_ingestion/dataset/train.csv', test_file_path='/config/workspace/artifact/01252023__064836/data_ingestion/dataset/test.csv')
[ 2023-01-25 06:48:37,077 ] 20 root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Data Validation <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[ 2023-01-25 06:48:37,078 ] 130 root - INFO - Reading base dataframe
[ 2023-01-25 06:48:37,114 ] 133 root - INFO - Replace ? value in base df
[ 2023-01-25 06:48:37,114 ] 135 root - INFO - Drop null values colums from base df
[ 2023-01-25 06:48:37,131 ] 42 root - INFO - selecting column name which contains null above to 0.2
[ 2023-01-25 06:48:37,131 ] 45 root - INFO - Columns to drop: ['T3', 'TBG']
[ 2023-01-25 06:48:37,133 ] 138 root - INFO - Reading train dataframe
[ 2023-01-25 06:48:37,144 ] 140 root - INFO - Reading test dataframe
[ 2023-01-25 06:48:37,149 ] 143 root - INFO - Drop null values colums from train df
[ 2023-01-25 06:48:37,160 ] 42 root - INFO - selecting column name which contains null above to 0.2
[ 2023-01-25 06:48:37,160 ] 45 root - INFO - Columns to drop: ['T3', 'TBG']
[ 2023-01-25 06:48:37,162 ] 145 root - INFO - Drop null values colums from test df
[ 2023-01-25 06:48:37,165 ] 42 root - INFO - selecting column name which contains null above to 0.2
[ 2023-01-25 06:48:37,165 ] 45 root - INFO - Columns to drop: ['T3', 'TBG']
[ 2023-01-25 06:48:37,166 ] 148 root - INFO - Drop unnecessary columns from base df
[ 2023-01-25 06:48:37,166 ] 66 root - INFO - UnnecessaColumns dropped: ['TSH measured', 'T3 measured', 'TT4 measured', 'T4U measured', 'FTI measured', 'TBG measured', 'referral source']
[ 2023-01-25 06:48:37,168 ] 150 root - INFO - Drop unnecessary columns from train df
[ 2023-01-25 06:48:37,169 ] 66 root - INFO - UnnecessaColumns dropped: ['TSH measured', 'T3 measured', 'TT4 measured', 'T4U measured', 'FTI measured', 'TBG measured', 'referral source']
[ 2023-01-25 06:48:37,171 ] 152 root - INFO - Drop unnecessary columns from test df
[ 2023-01-25 06:48:37,171 ] 66 root - INFO - UnnecessaColumns dropped: ['TSH measured', 'T3 measured', 'TT4 measured', 'T4U measured', 'FTI measured', 'TBG measured', 'referral source']
[ 2023-01-25 06:48:37,172 ] 155 root - INFO - Is all required columns present in train df
[ 2023-01-25 06:48:37,172 ] 157 root - INFO - Is all required columns present in test df
[ 2023-01-25 06:48:37,172 ] 161 root - INFO - As all column are available in train df hence detecting data drift in train dataframe
[ 2023-01-25 06:48:37,172 ] 110 root - INFO - Checking Data Types of 'age': object, float64 
[ 2023-01-25 06:48:37,176 ] 117 root - INFO - Checking number of classes in in age column
: (59     95
60     91
70     90
73     81
55     81
       ..
10      1
4       1
5       1
455     1
6       1
Name: age, Length: 93, dtype: int64, 59.0    82
60.0    72
63.0    69
73.0    68
70.0    66
        ..
5.0      1
6.0      1
93.0     1
94.0     1
4.0      1
Name: age, Length: 92, dtype: int64)
[ 2023-01-25 06:48:37,177 ] 110 root - INFO - Checking Data Types of 'sex': object, object 
[ 2023-01-25 06:48:37,179 ] 117 root - INFO - Checking number of classes in in sex column
: (F    2480
M    1142
Name: sex, dtype: int64, F    1978
M     916
Name: sex, dtype: int64)
[ 2023-01-25 06:48:37,180 ] 110 root - INFO - Checking Data Types of 'on thyroxine': object, object 
[ 2023-01-25 06:48:37,182 ] 117 root - INFO - Checking number of classes in in on thyroxine column
: (f    3308
t     464
Name: on thyroxine, dtype: int64, f    2652
t     365
Name: on thyroxine, dtype: int64)
[ 2023-01-25 06:48:37,183 ] 110 root - INFO - Checking Data Types of 'query on thyroxine': object, object 
[ 2023-01-25 06:48:37,184 ] 117 root - INFO - Checking number of classes in in query on thyroxine column
: (f    3722
t      50
Name: query on thyroxine, dtype: int64, f    2978
t      39
Name: query on thyroxine, dtype: int64)
[ 2023-01-25 06:48:37,186 ] 110 root - INFO - Checking Data Types of 'on antithyroid medication': object, object 
[ 2023-01-25 06:48:37,187 ] 117 root - INFO - Checking number of classes in in on antithyroid medication column
: (f    3729
t      43
Name: on antithyroid medication, dtype: int64, f    2982
t      35
Name: on antithyroid medication, dtype: int64)
[ 2023-01-25 06:48:37,188 ] 110 root - INFO - Checking Data Types of 'sick': object, object 
[ 2023-01-25 06:48:37,190 ] 117 root - INFO - Checking number of classes in in sick column
: (f    3625
t     147
Name: sick, dtype: int64, f    2899
t     118
Name: sick, dtype: int64)
[ 2023-01-25 06:48:37,191 ] 110 root - INFO - Checking Data Types of 'pregnant': object, object 
[ 2023-01-25 06:48:37,193 ] 117 root - INFO - Checking number of classes in in pregnant column
: (f    3719
t      53
Name: pregnant, dtype: int64, f    2978
t      39
Name: pregnant, dtype: int64)
[ 2023-01-25 06:48:37,194 ] 110 root - INFO - Checking Data Types of 'thyroid surgery': object, object 
[ 2023-01-25 06:48:37,196 ] 117 root - INFO - Checking number of classes in in thyroid surgery column
: (f    3719
t      53
Name: thyroid surgery, dtype: int64, f    2979
t      38
Name: thyroid surgery, dtype: int64)
[ 2023-01-25 06:48:37,197 ] 110 root - INFO - Checking Data Types of 'I131 treatment': object, object 
[ 2023-01-25 06:48:37,199 ] 117 root - INFO - Checking number of classes in in I131 treatment column
: (f    3713
t      59
Name: I131 treatment, dtype: int64, f    2970
t      47
Name: I131 treatment, dtype: int64)
[ 2023-01-25 06:48:37,200 ] 110 root - INFO - Checking Data Types of 'query hypothyroid': object, object 
[ 2023-01-25 06:48:37,201 ] 117 root - INFO - Checking number of classes in in query hypothyroid column
: (f    3538
t     234
Name: query hypothyroid, dtype: int64, f    2833
t     184
Name: query hypothyroid, dtype: int64)
[ 2023-01-25 06:48:37,203 ] 110 root - INFO - Checking Data Types of 'query hyperthyroid': object, object 
[ 2023-01-25 06:48:37,204 ] 117 root - INFO - Checking number of classes in in query hyperthyroid column
: (f    3535
t     237
Name: query hyperthyroid, dtype: int64, f    2825
t     192
Name: query hyperthyroid, dtype: int64)
[ 2023-01-25 06:48:37,205 ] 110 root - INFO - Checking Data Types of 'lithium': object, object 
[ 2023-01-25 06:48:37,207 ] 117 root - INFO - Checking number of classes in in lithium column
: (f    3754
t      18
Name: lithium, dtype: int64, f    3003
t      14
Name: lithium, dtype: int64)
[ 2023-01-25 06:48:37,208 ] 110 root - INFO - Checking Data Types of 'goitre': object, object 
[ 2023-01-25 06:48:37,210 ] 117 root - INFO - Checking number of classes in in goitre column
: (f    3738
t      34
Name: goitre, dtype: int64, f    2991
t      26
Name: goitre, dtype: int64)
[ 2023-01-25 06:48:37,211 ] 110 root - INFO - Checking Data Types of 'tumor': object, object 
[ 2023-01-25 06:48:37,213 ] 117 root - INFO - Checking number of classes in in tumor column
: (f    3676
t      96
Name: tumor, dtype: int64, f    2940
t      77
Name: tumor, dtype: int64)
[ 2023-01-25 06:48:37,214 ] 110 root - INFO - Checking Data Types of 'hypopituitary': object, object 
[ 2023-01-25 06:48:37,216 ] 117 root - INFO - Checking number of classes in in hypopituitary column
: (f    3771
t       1
Name: hypopituitary, dtype: int64, f    3016
t       1
Name: hypopituitary, dtype: int64)
[ 2023-01-25 06:48:37,217 ] 110 root - INFO - Checking Data Types of 'psych': object, object 
[ 2023-01-25 06:48:37,218 ] 117 root - INFO - Checking number of classes in in psych column
: (f    3588
t     184
Name: psych, dtype: int64, f    2867
t     150
Name: psych, dtype: int64)
[ 2023-01-25 06:48:37,220 ] 110 root - INFO - Checking Data Types of 'TSH': object, float64 
[ 2023-01-25 06:48:37,222 ] 117 root - INFO - Checking number of classes in in TSH column
: (0.2     116
1.3     105
1.1      97
1.4      91
1.5      80
       ... 
86        1
18.4      1
89        1
29        1
40        1
Name: TSH, Length: 287, dtype: int64, 0.2      98
1.3      84
1.1      75
1.4      72
1.6      68
         ..
30.0      1
400.0     1
40.0      1
70.0      1
7.7       1
Name: TSH, Length: 277, dtype: int64)
[ 2023-01-25 06:48:37,224 ] 110 root - INFO - Checking Data Types of 'TT4': object, float64 
[ 2023-01-25 06:48:37,226 ] 117 root - INFO - Checking number of classes in in TT4 column
: (101    71
93     67
98     63
103    63
102    59
       ..
289     1
240     1
43      1
34      1
258     1
Name: TT4, Length: 241, dtype: int64, 101.0    63
93.0     55
103.0    55
98.0     54
87.0     50
         ..
23.0      1
372.0     1
28.0      1
257.0     1
246.0     1
Name: TT4, Length: 230, dtype: int64)
[ 2023-01-25 06:48:37,228 ] 110 root - INFO - Checking Data Types of 'T4U': object, float64 
[ 2023-01-25 06:48:37,230 ] 117 root - INFO - Checking number of classes in in T4U column
: (0.99    95
0.9     93
1.01    91
1       90
0.92    89
        ..
1.84     1
0.57     1
2.03     1
1.97     1
0.25     1
Name: T4U, Length: 146, dtype: int64, 0.92    82
0.97    71
0.93    71
0.99    71
1.00    69
        ..
1.71     1
1.58     1
0.36     1
1.57     1
2.32     1
Name: T4U, Length: 139, dtype: int64)
[ 2023-01-25 06:48:37,231 ] 110 root - INFO - Checking Data Types of 'FTI': object, float64 
[ 2023-01-25 06:48:37,234 ] 117 root - INFO - Checking number of classes in in FTI column
: (100    73
93     70
114    65
98     64
107    64
       ..
349     1
221     1
187     1
39      1
227     1
Name: FTI, Length: 234, dtype: int64, 100.0    65
114.0    54
93.0     53
104.0    52
107.0    51
         ..
349.0     1
5.4       1
281.0     1
253.0     1
232.0     1
Name: FTI, Length: 219, dtype: int64)
[ 2023-01-25 06:48:37,235 ] 110 root - INFO - Checking Data Types of 'binaryClass': object, object 
[ 2023-01-25 06:48:37,237 ] 117 root - INFO - Checking number of classes in in binaryClass column
: (P    3481
N     291
Name: binaryClass, dtype: int64, P    2784
N     233
Name: binaryClass, dtype: int64)
[ 2023-01-25 06:48:37,238 ] 164 root - INFO - As all column are available in test df hence detecting data drift test dataframe
[ 2023-01-25 06:48:37,238 ] 110 root - INFO - Checking Data Types of 'age': object, int64 
[ 2023-01-25 06:48:37,241 ] 117 root - INFO - Checking number of classes in in age column
: (59     95
60     91
70     90
73     81
55     81
       ..
10      1
4       1
5       1
455     1
6       1
Name: age, Length: 93, dtype: int64, 70    24
60    19
68    18
37    18
72    17
      ..
90     1
2      1
7      1
13     1
86     1
Name: age, Length: 85, dtype: int64)
[ 2023-01-25 06:48:37,242 ] 110 root - INFO - Checking Data Types of 'sex': object, object 
[ 2023-01-25 06:48:37,243 ] 117 root - INFO - Checking number of classes in in sex column
: (F    2480
M    1142
Name: sex, dtype: int64, F    502
M    226
Name: sex, dtype: int64)
[ 2023-01-25 06:48:37,244 ] 110 root - INFO - Checking Data Types of 'on thyroxine': object, object 
[ 2023-01-25 06:48:37,246 ] 117 root - INFO - Checking number of classes in in on thyroxine column
: (f    3308
t     464
Name: on thyroxine, dtype: int64, f    656
t     99
Name: on thyroxine, dtype: int64)
[ 2023-01-25 06:48:37,247 ] 110 root - INFO - Checking Data Types of 'query on thyroxine': object, object 
[ 2023-01-25 06:48:37,248 ] 117 root - INFO - Checking number of classes in in query on thyroxine column
: (f    3722
t      50
Name: query on thyroxine, dtype: int64, f    744
t     11
Name: query on thyroxine, dtype: int64)
[ 2023-01-25 06:48:37,249 ] 110 root - INFO - Checking Data Types of 'on antithyroid medication': object, object 
[ 2023-01-25 06:48:37,251 ] 117 root - INFO - Checking number of classes in in on antithyroid medication column
: (f    3729
t      43
Name: on antithyroid medication, dtype: int64, f    747
t      8
Name: on antithyroid medication, dtype: int64)
[ 2023-01-25 06:48:37,252 ] 110 root - INFO - Checking Data Types of 'sick': object, object 
[ 2023-01-25 06:48:37,253 ] 117 root - INFO - Checking number of classes in in sick column
: (f    3625
t     147
Name: sick, dtype: int64, f    726
t     29
Name: sick, dtype: int64)
[ 2023-01-25 06:48:37,254 ] 110 root - INFO - Checking Data Types of 'pregnant': object, object 
[ 2023-01-25 06:48:37,256 ] 117 root - INFO - Checking number of classes in in pregnant column
: (f    3719
t      53
Name: pregnant, dtype: int64, f    741
t     14
Name: pregnant, dtype: int64)
[ 2023-01-25 06:48:37,257 ] 110 root - INFO - Checking Data Types of 'thyroid surgery': object, object 
[ 2023-01-25 06:48:37,258 ] 117 root - INFO - Checking number of classes in in thyroid surgery column
: (f    3719
t      53
Name: thyroid surgery, dtype: int64, f    740
t     15
Name: thyroid surgery, dtype: int64)
[ 2023-01-25 06:48:37,259 ] 110 root - INFO - Checking Data Types of 'I131 treatment': object, object 
[ 2023-01-25 06:48:37,261 ] 117 root - INFO - Checking number of classes in in I131 treatment column
: (f    3713
t      59
Name: I131 treatment, dtype: int64, f    743
t     12
Name: I131 treatment, dtype: int64)
[ 2023-01-25 06:48:37,262 ] 110 root - INFO - Checking Data Types of 'query hypothyroid': object, object 
[ 2023-01-25 06:48:37,263 ] 117 root - INFO - Checking number of classes in in query hypothyroid column
: (f    3538
t     234
Name: query hypothyroid, dtype: int64, f    705
t     50
Name: query hypothyroid, dtype: int64)
[ 2023-01-25 06:48:37,264 ] 110 root - INFO - Checking Data Types of 'query hyperthyroid': object, object 
[ 2023-01-25 06:48:37,266 ] 117 root - INFO - Checking number of classes in in query hyperthyroid column
: (f    3535
t     237
Name: query hyperthyroid, dtype: int64, f    710
t     45
Name: query hyperthyroid, dtype: int64)
[ 2023-01-25 06:48:37,267 ] 110 root - INFO - Checking Data Types of 'lithium': object, object 
[ 2023-01-25 06:48:37,268 ] 117 root - INFO - Checking number of classes in in lithium column
: (f    3754
t      18
Name: lithium, dtype: int64, f    751
t      4
Name: lithium, dtype: int64)
[ 2023-01-25 06:48:37,269 ] 110 root - INFO - Checking Data Types of 'goitre': object, object 
[ 2023-01-25 06:48:37,271 ] 117 root - INFO - Checking number of classes in in goitre column
: (f    3738
t      34
Name: goitre, dtype: int64, f    747
t      8
Name: goitre, dtype: int64)
[ 2023-01-25 06:48:37,272 ] 110 root - INFO - Checking Data Types of 'tumor': object, object 
[ 2023-01-25 06:48:37,273 ] 117 root - INFO - Checking number of classes in in tumor column
: (f    3676
t      96
Name: tumor, dtype: int64, f    736
t     19
Name: tumor, dtype: int64)
[ 2023-01-25 06:48:37,274 ] 110 root - INFO - Checking Data Types of 'hypopituitary': object, object 
[ 2023-01-25 06:48:37,276 ] 117 root - INFO - Checking number of classes in in hypopituitary column
: (f    3771
t       1
Name: hypopituitary, dtype: int64, f    755
Name: hypopituitary, dtype: int64)
[ 2023-01-25 06:48:37,277 ] 110 root - INFO - Checking Data Types of 'psych': object, object 
[ 2023-01-25 06:48:37,278 ] 117 root - INFO - Checking number of classes in in psych column
: (f    3588
t     184
Name: psych, dtype: int64, f    721
t     34
Name: psych, dtype: int64)
[ 2023-01-25 06:48:37,279 ] 110 root - INFO - Checking Data Types of 'TSH': object, float64 
[ 2023-01-25 06:48:37,282 ] 117 root - INFO - Checking number of classes in in TSH column
: (0.2     116
1.3     105
1.1      97
1.4      91
1.5      80
       ... 
86        1
18.4      1
89        1
29        1
40        1
Name: TSH, Length: 287, dtype: int64, 1.10     22
1.00     21
1.30     21
1.50     21
0.02     19
         ..
28.00     1
0.33      1
7.60      1
31.00     1
0.97      1
Name: TSH, Length: 173, dtype: int64)
[ 2023-01-25 06:48:37,283 ] 110 root - INFO - Checking Data Types of 'TT4': object, float64 
[ 2023-01-25 06:48:37,286 ] 117 root - INFO - Checking number of classes in in TT4 column
: (101    71
93     67
98     63
103    63
102    59
       ..
289     1
240     1
43      1
34      1
258     1
Name: TT4, Length: 241, dtype: int64, 102.0    16
86.0     15
100.0    15
94.0     15
111.0    14
         ..
195.0     1
223.0     1
51.0      1
194.0     1
52.0      1
Name: TT4, Length: 155, dtype: int64)
[ 2023-01-25 06:48:37,287 ] 110 root - INFO - Checking Data Types of 'T4U': object, float64 
[ 2023-01-25 06:48:37,290 ] 117 root - INFO - Checking number of classes in in T4U column
: (0.99    95
0.9     93
1.01    91
1       90
0.92    89
        ..
1.84     1
0.57     1
2.03     1
1.97     1
0.25     1
Name: T4U, Length: 146, dtype: int64, 1.01    25
0.90    24
0.99    24
1.00    21
0.95    20
        ..
2.12     1
1.83     1
1.68     1
0.65     1
0.50     1
Name: T4U, Length: 105, dtype: int64)
[ 2023-01-25 06:48:37,291 ] 110 root - INFO - Checking Data Types of 'FTI': object, float64 
[ 2023-01-25 06:48:37,293 ] 117 root - INFO - Checking number of classes in in FTI column
: (100    73
93     70
114    65
98     64
107    64
       ..
349     1
221     1
187     1
39      1
227     1
Name: FTI, Length: 234, dtype: int64, 92.0     19
96.0     17
93.0     17
117.0    16
106.0    15
         ..
10.0      1
74.0      1
245.0     1
46.0      1
265.0     1
Name: FTI, Length: 142, dtype: int64)
[ 2023-01-25 06:48:37,295 ] 110 root - INFO - Checking Data Types of 'binaryClass': object, object 
[ 2023-01-25 06:48:37,296 ] 117 root - INFO - Checking number of classes in in binaryClass column
: (P    3481
N     291
Name: binaryClass, dtype: int64, P    697
N     58
Name: binaryClass, dtype: int64)
[ 2023-01-25 06:48:37,297 ] 167 root - INFO - create dataset directory folder if not available for validated train file and test file
[ 2023-01-25 06:48:37,297 ] 172 root - INFO - Saving validated train df and test df to dataset folder
[ 2023-01-25 06:48:37,327 ] 178 root - INFO - Writing report in yaml file
[ 2023-01-25 06:48:37,336 ] 184 root - INFO - Data validation artifact: DataValidationArtifact(report_file_path='/config/workspace/artifact/01252023__064836/data_validation/report.yaml', train_file_path='/config/workspace/artifact/01252023__064836/data_validation/dataset/train.csv', test_file_path='/config/workspace/artifact/01252023__064836/data_validation/dataset/test.csv')
[ 2023-01-25 06:48:37,337 ] 25 root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Feature Engineering <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[ 2023-01-25 06:48:37,337 ] 86 root - INFO - Reading training and testing file
[ 2023-01-25 06:48:37,349 ] 91 root - INFO - Converting the categorical data to numerical
[ 2023-01-25 06:48:37,349 ] 40 root - INFO - Replacing 'f' to 0 and 't' to 1 in dataframe
[ 2023-01-25 06:48:37,372 ] 43 root - INFO - Replacing 'F' to 0 and 'M' to 1 'sex' column
[ 2023-01-25 06:48:37,375 ] 40 root - INFO - Replacing 'f' to 0 and 't' to 1 in dataframe
[ 2023-01-25 06:48:37,383 ] 43 root - INFO - Replacing 'F' to 0 and 'M' to 1 'sex' column
[ 2023-01-25 06:48:37,384 ] 96 root - INFO - Converting columns datatypes to float type
[ 2023-01-25 06:48:37,386 ] 102 root - INFO - Handling outlier and null value in 'age' and 'sex' column
[ 2023-01-25 06:48:37,390 ] 107 root - INFO - Selecting input feature for train and test dataframe
[ 2023-01-25 06:48:37,391 ] 112 root - INFO - Selecting target feature for train and test dataframe
[ 2023-01-25 06:48:37,391 ] 117 root - INFO - Encoding the target feature values
[ 2023-01-25 06:48:37,394 ] 124 root - INFO - Target feature label encoded values: [1 0 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 0 0 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 0 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
 1 1 1 1 1 1 1 1 1 1 0 1 0 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1
 0 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 0 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1
 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 1 1 0 1 0 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 0 1 1 0 1 0 1 1 1 1 1 1 1 0 1 0 0 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 0 1 1 1 1 1 0 1 1 1 0
 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1 0 1 1 1 1 1
 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 1 0 1 1 1 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 0 1 0 1 1 1 1 0 1 1 1 1
 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1
 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1]
[ 2023-01-25 06:48:37,605 ] 129 root - INFO - Index(['age', 'sex', 'on thyroxine', 'query on thyroxine',
       'on antithyroid medication', 'sick', 'pregnant', 'thyroid surgery',
       'I131 treatment', 'query hypothyroid', 'query hyperthyroid', 'lithium',
       'goitre', 'tumor', 'hypopituitary', 'psych', 'TSH', 'TT4', 'T4U',
       'FTI'],
      dtype='object')
[ 2023-01-25 06:48:37,824 ] 137 root - INFO - Before resampling in training set Input: (3017, 20) Target:(3017,)
[ 2023-01-25 06:48:38,252 ] 139 root - INFO - After resampling in training set Input: (5556, 20) Target:(5556,)
[ 2023-01-25 06:48:38,252 ] 141 root - INFO - Before resampling in testing set Input: (755, 20) Target:(755,)
[ 2023-01-25 06:48:38,327 ] 143 root - INFO - After resampling in testing set Input: (1390, 20) Target:(1390,)
[ 2023-01-25 06:48:38,331 ] 68 root - INFO - Entered the save_object method of utils
[ 2023-01-25 06:48:38,334 ] 72 root - INFO - Exited the save_object method of utils
[ 2023-01-25 06:48:38,334 ] 68 root - INFO - Entered the save_object method of utils
[ 2023-01-25 06:48:38,335 ] 72 root - INFO - Exited the save_object method of utils
[ 2023-01-25 06:48:38,335 ] 165 root - INFO - Data transformation object FeatureEngineeringArtifact(knn_imputer_object_path='/config/workspace/artifact/01252023__064836/feature_engineering/imputer/knn_imputer.pkl', transformed_train_path='/config/workspace/artifact/01252023__064836/feature_engineering/transformed/train.npz', transformed_test_path='/config/workspace/artifact/01252023__064836/feature_engineering/transformed/test.npz', target_encoder_path='/config/workspace/artifact/01252023__064836/feature_engineering/target_encoder/target_encoder.pkl')
[ 2023-01-25 06:48:38,335 ] 20 root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Model Trainer <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[ 2023-01-25 06:48:38,335 ] 69 root - INFO - Loading train and test array.
[ 2023-01-25 06:48:38,341 ] 73 root - INFO - Splitting input and target feature from both train and test arr.
[ 2023-01-25 06:48:38,341 ] 82 root - INFO - Train the model
[ 2023-01-25 06:48:40,931 ] 86 root - INFO - Calculating f1 train score
[ 2023-01-25 06:48:40,944 ] 91 root - INFO - Calculating f1 test score
[ 2023-01-25 06:48:40,951 ] 95 root - INFO - train score:0.9976546996211437 and tests score 0.9949385394070861
[ 2023-01-25 06:48:40,951 ] 96 root - INFO - Checking if our model is a good model or not
[ 2023-01-25 06:48:40,951 ] 101 root - INFO - Checking if our model is overfiiting or not
[ 2023-01-25 06:48:40,951 ] 109 root - INFO - Saving mode object
[ 2023-01-25 06:48:40,951 ] 68 root - INFO - Entered the save_object method of utils
[ 2023-01-25 06:48:40,958 ] 72 root - INFO - Exited the save_object method of utils
[ 2023-01-25 06:48:40,958 ] 113 root - INFO - Prepare the artifact
[ 2023-01-25 06:48:40,958 ] 116 root - INFO - Model trainer artifact: ModelTrainerArtifact(model_path='/config/workspace/artifact/01252023__064836/model_trainer/model/model.pkl', f1_train_score=0.9976546996211437, f1_test_score=0.9949385394070861)
[ 2023-01-25 06:48:40,959 ] 25 root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  Model Evaluation <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[ 2023-01-25 06:48:40,959 ] 26 root - INFO - ___________________________________________________________________________________________________________
[ 2023-01-25 06:48:40,959 ] 25 root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Feature Engineering <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[ 2023-01-25 06:48:40,959 ] 42 root - INFO - ___________________________________________________________________________________________________________
[ 2023-01-25 06:48:40,959 ] 43 root - INFO - If saved model folder has model then we will compare which model is best, Trained model from artifact folder or the model from saved model folder
[ 2023-01-25 06:48:40,959 ] 53 root - INFO - Finding location of knn_imputer, model and target encoder
[ 2023-01-25 06:48:40,960 ] 59 root - INFO - Previous trained objects of knn_imputer, model and target encoder
[ 2023-01-25 06:48:40,969 ] 65 root - INFO - Currently trained model objects
[ 2023-01-25 06:48:40,993 ] 40 root - INFO - Replacing 'f' to 0 and 't' to 1 in dataframe
[ 2023-01-25 06:48:41,002 ] 43 root - INFO - Replacing 'F' to 0 and 'M' to 1 'sex' column
[ 2023-01-25 06:48:41,074 ] 91 root - INFO - Accuracy using previous trained model: 0.9942279942279942
[ 2023-01-25 06:48:41,076 ] 40 root - INFO - Replacing 'f' to 0 and 't' to 1 in dataframe
[ 2023-01-25 06:48:41,087 ] 43 root - INFO - Replacing 'F' to 0 and 'M' to 1 'sex' column
[ 2023-01-25 06:48:41,146 ] 107 root - INFO - Accuracy using current trained model: 0.9942279942279942
[ 2023-01-25 06:48:41,146 ] 109 root - INFO - Current trained model is not better than previous model
